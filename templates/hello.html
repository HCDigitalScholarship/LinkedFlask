{% extends "layout.html" %}
{% block content %}
<title>Hello from the Flask Link Data App</title>
{% if name %}    
   <p class='lead'><b> Info: {{name}}</b></p>
{% else %}
  <h1>Hello, World! There seems to be an issue here but, it is just the beginning and there will be plently of time to fix this :^) </h1>
{% endif %}
{% if birth %}
	{% if death %}
	<p> {{birth}} - {{death}}</p>
	{% else %}
	<p> {{birth}}-unknown </p>
	{% endif %}
{% else %}
	{% if death %}
        <p> unknown - {{death}}</p>
        {% else %}
        <p> unknown-unknown </p>
        {% endif %}
{% endif %}

{% if par1 and par2 and p1url and p2url %}
   <p> <b>Parents:</b> <a href="{{p1url}}">{{par1}}</a>, <a href="{{p2url}}">{{par2}}</a><p>
{% else %}
   <p> <b>Parents: </b>unknown</p>
{% endif %}

{% if sb %}
	<p><b>Siblings:</b>
	{% for sibling in range(sb|length - 1) %}
		<a href= "{{sb[sibling][1]}}"> {{sb[sibling][0]}}</a>,
	{% endfor %}
		<a href= "{{sb[-1][1]}}"> {{sb[-1][0]}}</a>
	</p>
{% else %}
	<p> <b>Siblings: </b>unknown</p>
{% endif %}

{% if child %}
        <p><b>Children:</b>
        	{% for ch in range(child|length - 1) %}
                <a href= "{{child[ch][0]}}"> {{child[ch][1]}}</a>,
        	{% endfor %}
        	<a href= "{{child[-1][0]}}"> {{child[-1][1]}}</a>
        	
	</p>
{% else %}
        <p> <b>Children: </b>unknown</p>
{% endif %}



<!-- this should not be like this: should be in a separate template -->

<div class="panel-group"> <div class="panel panel-default"> <div class="panel-heading"> <h4 class="panel-title"> <a data-toggle="collapse" href="#collapse1">Letters Written</a> <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span></h4> </div> <div id="collapse1" class="panel-collapse collapse"> <ul class="list-group">

{% if letwrote %}
	{% for letter in letwrote %}
		<li class='list-group-item'> <p style='margin:0 0 0px;'> <a href={{letter[0]}}>{{letter[1]}}</a> to <a href={{letter[2]}}>{{letter[3]}}</a> </p><p style='font-size:smaller;margin:0 0 0px;'>Subject:{{letter[4]}} </p> </li>
	{% endfor %}
	</ul></div> </div> </div>
{% else %} 
	<li class='list-group-item'><p>None </p> </li>
	</ul></div> </div> </div>
{% endif %}



<div class="panel-group"> <div class="panel panel-default"> <div class="panel-heading"> <h4 class="panel-title"> <a data-toggle="collapse" href="#collapse2">Letters Received</a> <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span></h4> </div> <div id="collapse2" class="panel-collapse collapse"> <ul class="list-group">

{% if letreceived %}
        {% for letter in letreceived %}
                <li class='list-group-item'> <p style='margin:0 0 0px;'> <a href={{letter[0]}}>{{letter[1]}}</a> to <a href={{letter[2]}}>{{letter[3]}}</a> </p><p style='font-size:smaller;margin:0 0 0px;'>Subject:{{letter[4]}} </p> </li>
        {% endfor %}
        </ul></div> </div> </div>
{% else %}
        <li class='list-group-item'><p>None </p> </li>
	</ul></div> </div> </div>
{% endif %}



<div class="panel-group"> <div class="panel panel-default"> <div class="panel-heading"> <h4 class="panel-title"> <a data-toggle="collapse" href="#collapse3">Travels</a> <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span></h4> </div> <div id="collapse3" class="panel-collapse collapse"> <ul class="list-group">
{% if travels %}
        {% for t in travels %}
        	<li class='list-group-item'> <p> {{t[0]}} on {{t[1]}}, {{t[2]}} </p> </li>
	{% endfor %}
        </ul></div> </div> </div>
{% else %}
	<li class='list-group-item'><p>None </p> </li>
	</ul></div> </div> </div>
{% endif %}



{% endblock %}
